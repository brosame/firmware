## @defgroup monitoring Monitoring
## @brief Ermittlung statistischer Daten in Form von munin-Plugins
# Beginn der Doku-Gruppe
## @{


## @fn enable_munin_plugins()
## @brief Aktiviere die Plugin-Unterst체tzung von muninlite durch Patchen des muninlite-Skripts.
## @details Die Plugin-Unterst체tzung von muninlite wird durch Hinzuf체gen des Token 'plugindir_' zu
##   der Variable 'PLUGINS' umgesetzt. Dies ist ein kleines bisschen h채sslich :(
enable_munin_plugins() {
	local target="${IPKG_INSTROOT:-}/usr/sbin/munin-node"
	# nicht installiert?
	[ -e "$target" ] || return 0
	# bereits konfiguriert?
	grep -q "^PLUGINS=.*plugindir_" "$target" && return 0
	# "plugindir_" einfuegen
	sed -i "/^PLUGINS=\".*\"$/s/^PLUGINS=\"/PLUGINS=\"plugindir_ /" "$target"
}

# Ende der Doku-Gruppe
## @}
